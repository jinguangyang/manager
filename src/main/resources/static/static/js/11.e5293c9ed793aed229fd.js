(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"3uy1":function(t,e,n){"use strict";n.d(e,"m",function(){return l}),n.d(e,"k",function(){return s}),n.d(e,"a",function(){return d}),n.d(e,"g",function(){return c}),n.d(e,"d",function(){return u}),n.d(e,"l",function(){return f}),n.d(e,"o",function(){return p}),n.d(e,"b",function(){return h}),n.d(e,"h",function(){return m}),n.d(e,"e",function(){return g}),n.d(e,"n",function(){return b}),n.d(e,"p",function(){return v}),n.d(e,"j",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"i",function(){return x}),n.d(e,"f",function(){return S});var i=n("t3Un"),a=n("f0Pt"),r=n.n(a),o="http://localhost:80/system";function l(t){return Object(i.a)({url:o+"/vendingDistrict/list",method:"get",params:t})}function s(t){return Object(i.a)({url:o+"/corp/vaguelist",method:"get",params:t})}var d=function(t){return r.a.post(o+"/vendingDistrict/add",t).then(function(t){return t.data})},c=function(t){return r.a.post(o+"/vendingDistrict/edit",t).then(function(t){return t.data})},u=function(t){return r.a.post(o+"/vendingDistrict/remove",t).then(function(t){return t.data})};function f(t){return Object(i.a)({url:o+"/vendingLine/list",method:"get",params:t})}function p(t){return Object(i.a)({url:o+"/vendingDistrict/listAll",method:"get",params:t})}var h=function(t){return r.a.post(o+"/vendingLine/add",t).then(function(t){return t.data})},m=function(t){return r.a.post(o+"/vendingLine/edit",t).then(function(t){return t.data})},g=function(t){return r.a.post(o+"/vendingLine/remove",t).then(function(t){return t.data})};function b(t){return Object(i.a)({url:o+"/vendingPoint/list",method:"get",params:t})}function v(t){return Object(i.a)({url:o+"/vendingLine/listAll",method:"get",params:t})}function y(t){return Object(i.a)({url:o+"/dispatch/getChild",method:"get",params:t})}var w=function(t){return r.a.post(o+"/vendingPoint/add",t).then(function(t){return t.data})},x=function(t){return r.a.post(o+"/vendingPoint/edit",t).then(function(t){return t.data})},S=function(t){return r.a.post(o+"/vendingPoint/remove",t).then(function(t){return t.data})}},"5QDE":function(t,e,n){var i=n("tZGl");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("hctG").default)("96160c08",i,!0,{})},"7Xyn":function(t,e,n){n("mLIk"),n("Zh0l"),t.exports=n("Lvsw")},"8HqR":function(t,e,n){},G4mM:function(t,e,n){"use strict";var i=n("Qfqi");n.n(i).a},JCT1:function(t,e,n){"use strict";n.r(e);var i=n("omC7"),a=n.n(i),r=n("6ZY3"),o=n.n(r),l=n("3uy1"),s=n("OLzz"),d=n.n(s),c={data:function(){return{keyword:"",options:[],LineValue:"",optionsVlaue:"",regionValue:"",regionList:[],lineList:[],total:1,currentPage:1,pagesize:10,formLabelWidth:"120px",dialogVisible:!1,input10:"",multipleSelection:"",tableOption:{border:!0},tableHeader:[{type:"selection",width:"55"},{prop:"code",label:"点位编号 ",width:"78",sortable:!0,sortMethod:this.handleNameSort},{prop:"name",label:"点位名称",minWidth:"150"},{prop:"districtName",label:"区域名称",minWidth:"120"},{prop:"lineName",label:"线路名称",minWidth:"120"},{prop:"addresses",label:"所属行政区",minWidth:"200"},{prop:"adderss",label:"详细地址"},{prop:"longitude",label:"经纬度",minWidth:"120"},{prop:"createTime",label:"创建时间 ",minWidth:"120"}],tableData:[],filterText:"",editForm:{}}},watch:{filterText:function(t){this.$refs.tree2.filter(t)}},methods:{handdetails:function(t){this.dialogVisible=!0,this.editForm=o()({},t)},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t,this.getData(t)},handleSelectionChange:function(t){var e=this;e.multipleSelection="",t&&t.forEach(function(t){e.multipleSelection+=t.logid+","})},search:function(){this.getData("")},deleteRow:function(t){var e=this,n=this;this.$confirm("确认提交吗？","提示",{}).then(function(){var i={ids:""==n.multipleSelection?t.logid:n.multipleSelection};Object(l.f)(i).then(function(t){"0000"==t.zhead.reTCode?(d.a.done(),e.$notify({title:"成功",message:t.zhead.retMsg,type:"success"}),n.getData()):e.$notify({title:"失败",message:t.zhead.retMsg,type:"error"})})})},handleAdd:function(){this.$router.push({path:"/pointposition/position/add"})},handleEdit:function(t,e){window.localStorage&&localStorage.setItem("editData",a()(e)),this.$router.push({path:"/pointposition/position/edit"}),this.editForm=o()({},e)},handleNameSort:function(){console.log("handleNameSort")},getData:function(t){var e=this;this.listLoading=!0;var n={name:e.keyword,districtId:e.optionsVlaue,lineId:e.LineValue,pageSize:t,pageNum:"",orderByColumn:"createTime",isAsc:"asc"};Object(l.n)(n).then(function(t){e.total=t.zbody.datas.total,e.tableData=t.zbody.datas.rows,console.log("查询点位列表",e.tableData)})},getDistrictData:function(){var t=this,e=this;this.listLoading=!0;Object(l.o)({}).then(function(n){"0000"===n.zhead.reTCode?(e.regionList=n.zbody.datas.rows,console.log("所有区域",e.regionList)):t.$notify({title:"失败",message:res.zhead.retMsg,type:"error"})})},getLine:function(){var t=this,e=this;this.listLoading=!0;Object(l.p)({}).then(function(n){"0000"===n.zhead.reTCode?(e.lineList=n.zbody.datas.rows,console.log("所有线路",e.lineList)):t.$notify({title:"失败",message:res.zhead.retMsg,type:"error"})})}},mounted:function(){this.getData(""),this.getDistrictData()},components:{wTable:n("TiyE").a}},u=(n("G4mM"),n("mDrr")),f=Object(u.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div-warp"},[n("el-dialog",{attrs:{title:"查看点位详情",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{staticClass:"formWidth",attrs:{model:t.editForm}},[n("el-form-item",{attrs:{label:"点位编号",prop:"code",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.editForm.code,callback:function(e){t.$set(t.editForm,"code",e)},expression:"editForm.code"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"点位名称",prop:"name",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"线路名称",prop:"lineId",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.editForm.lineName,callback:function(e){t.$set(t.editForm,"lineName",e)},expression:"editForm.lineName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"所属商户",prop:"corpName",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.editForm.corpName,callback:function(e){t.$set(t.editForm,"corpName",e)},expression:"editForm.corpName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"所属行政区域",prop:"country",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.editForm.addresses,callback:function(e){t.$set(t.editForm,"addresses",e)},expression:"editForm.addresses"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"详细地址",prop:"adderss",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.editForm.adderss,callback:function(e){t.$set(t.editForm,"adderss",e)},expression:"editForm.adderss"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"经度",prop:"longitude",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.editForm.longitude,callback:function(e){t.$set(t.editForm,"longitude",e)},expression:"editForm.longitude"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"维度",prop:"latitude",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off",disabled:!0},model:{value:t.editForm.latitude,callback:function(e){t.$set(t.editForm,"latitude",e)},expression:"editForm.latitude"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"描述",prop:"remark",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:t.editForm.remark,callback:function(e){t.$set(t.editForm,"remark",e)},expression:"editForm.remark"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"search-warp"},[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入点位",clearable:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),n("el-button",{attrs:{type:"success"},nativeOn:{click:function(e){return e.preventDefault(),t.search(e)}}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增")]),t._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:t.deleteRow}},[t._v("删除")])],1)])],1)],1),t._v(" "),n("div",{staticClass:"block-warp"},[n("wTable",{attrs:{data:t.tableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),header:t.tableHeader,handleSelectionChange:t.handleSelectionChange,option:t.tableOption}},[n("el-table-column",{attrs:{slot:"fixed",fixed:"right",label:"操作",width:"150"},slot:"fixed",scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-view",circle:""},on:{click:function(n){t.handdetails(e.row)}}}),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(n){t.handleEdit(e.$index,e.row)}}}),t._v(" "),n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},nativeOn:{click:function(n){n.preventDefault(),t.deleteRow(e.row)}}})],1)]}}])})],1),t._v(" "),n("div",{staticClass:"pageBox"},[n("el-pagination",{attrs:{background:"",stripe:"","page-size":t.pagesize,layout:"prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)},[],!1,null,"dd1f85de",null);f.options.__file="position.vue";e.default=f.exports},KTjL:function(t,e,n){"use strict";var i=n("L3ZA");n.n(i).a},L3ZA:function(t,e,n){var i=n("8HqR");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("hctG").default)("5225a910",i,!0,{})},Lvsw:function(t,e,n){var i=n("G1/F"),a=n("NfLp");t.exports=n("fz6b").getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},Qfqi:function(t,e,n){var i=n("w7ne");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("hctG").default)("331db920",i,!0,{})},TiyE:function(t,e,n){"use strict";var i=n("rerW"),a=n.n(i),r={watch:{header:function(t,e){this.tableHeader=t}},props:{data:{default:function(){return[]},type:Array},header:{default:function(){return[]},type:Array},option:{default:function(){return{}},type:Object},clciks:{default:function(t){return{res:""}},type:Function},handleSelectionChange:{default:function(t){return{res:""}},type:Function}},methods:{getRowClass:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;return 0==e?"background:#F5F8FB":""},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},renderHeader:function(t,e){var n=this,i=e.column;return t("div",{class:["thead-cell"],on:{mousedown:function(t){n.handleMouseDown(t,i)},mousemove:function(t){n.handleMouseMove(t,i)}}},[t("a",i.label),t("span",{class:["virtual"]})])},handleMouseDown:function(t,e){this.dragState.dragging=!0,this.dragState.start=parseInt(e.columnKey);var n=document.getElementsByClassName("w-table")[0],i=document.getElementsByClassName("virtual"),r=!0,o=!1,l=void 0;try{for(var s,d=a()(i);!(r=(s=d.next()).done);r=!0){var c=s.value;c.style.height=n.clientHeight-1+"px",c.style.width=c.parentElement.parentElement.clientWidth+"px"}}catch(t){o=!0,l=t}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}document.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(){this.dragColumn(this.dragState),this.dragState={start:-10,end:-10,dragging:!1,direction:void 0},document.removeEventListener("mouseup",this.handleMouseUp)},handleMouseMove:function(t,e){if(!this.dragState.dragging)return!1;var n=parseInt(e.columnKey);n-this.dragState.start!=0?(this.dragState.direction=n-this.dragState.start<0?"left":"right",this.dragState.end=parseInt(e.columnKey)):this.dragState.direction=void 0},dragColumn:function(t){for(var e=t.start,n=t.end,i=[],a="left"===t.direction,r=a?n:e-1,o=a?e+1:n,l=0;l<this.tableHeader.length;l++)l===n?i.push(this.tableHeader[e]):l>r&&l<o?i.push(this.tableHeader[a?l-1:l+1]):i.push(this.tableHeader[l]);this.tableHeader=i},headerCellClassName:function(t,e){t.column;var n=t.columnIndex;return(n-0===this.dragState.end?"darg_active_"+this.dragState.direction:"")+" "+(n-0===this.dragState.start?"darg_start":"")},cellClassName:function(t,e){t.column;return t.columnIndex-0===this.dragState.start?"darg_start":""}},data:function(){return{tooltipEffect:"dark",tableHeader:this.header,dragState:{start:-9,end:-9,dragging:!1,direction:void 0},filterText:""}},created:function(){},mounted:function(){}},o=(n("KTjL"),n("XayO"),n("mDrr")),l=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-table",class:{"w-table_moving":t.dragState.dragging}},[n("el-table",{style:{width:parseInt(t.option.width)+"px"},attrs:{data:t.data,border:t.option.border,height:t.option.height,"max-height":t.option.maxHeight,"cell-class-name":t.cellClassName,"header-cell-class-name":t.headerCellClassName,"tooltip-effect":t.tooltipEffect,"header-cell-style":t.getRowClass},on:{"row-click":t.clciks,"selection-change":t.handleSelectionChange}},[t._t("fixed"),t._v(" "),t._l(t.tableHeader,function(e,i){return n("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,"min-width":e.minWidth,type:e.type,"header-align":e.headerAlign,"column-key":i.toString(),"render-header":t.renderHeader,"show-overflow-tooltip":!0}})})],2)],1)},[],!1,null,null,null);l.options.__file="w-table.vue";e.a=l.exports},Uo8K:function(t,e,n){var i=n("fz6b"),a=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},XayO:function(t,e,n){"use strict";var i=n("5QDE");n.n(i).a},omC7:function(t,e,n){t.exports={default:n("Uo8K"),__esModule:!0}},rerW:function(t,e,n){t.exports={default:n("7Xyn"),__esModule:!0}},tZGl:function(t,e,n){},w7ne:function(t,e,n){}}]);
//# sourceMappingURL=11.e5293c9ed793aed229fd.js.map