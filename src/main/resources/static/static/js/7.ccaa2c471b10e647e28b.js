(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3uy1":function(t,e,n){"use strict";n.d(e,"m",function(){return u}),n.d(e,"k",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"d",function(){return d}),n.d(e,"l",function(){return m}),n.d(e,"o",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"h",function(){return h}),n.d(e,"e",function(){return v}),n.d(e,"n",function(){return g}),n.d(e,"p",function(){return b}),n.d(e,"j",function(){return F}),n.d(e,"c",function(){return w}),n.d(e,"i",function(){return y}),n.d(e,"f",function(){return L});var r=n("t3Un"),o=n("f0Pt"),i=n.n(o),a="http://localhost:80/system";function u(t){return Object(r.a)({url:a+"/vendingDistrict/list",method:"get",params:t})}function s(t){return Object(r.a)({url:a+"/corp/vaguelist",method:"get",params:t})}var c=function(t){return i.a.post(a+"/vendingDistrict/add",t).then(function(t){return t.data})},l=function(t){return i.a.post(a+"/vendingDistrict/edit",t).then(function(t){return t.data})},d=function(t){return i.a.post(a+"/vendingDistrict/remove",t).then(function(t){return t.data})};function m(t){return Object(r.a)({url:a+"/vendingLine/list",method:"get",params:t})}function f(t){return Object(r.a)({url:a+"/vendingDistrict/listAll",method:"get",params:t})}var p=function(t){return i.a.post(a+"/vendingLine/add",t).then(function(t){return t.data})},h=function(t){return i.a.post(a+"/vendingLine/edit",t).then(function(t){return t.data})},v=function(t){return i.a.post(a+"/vendingLine/remove",t).then(function(t){return t.data})};function g(t){return Object(r.a)({url:a+"/vendingPoint/list",method:"get",params:t})}function b(t){return Object(r.a)({url:a+"/vendingLine/listAll",method:"get",params:t})}function F(t){return Object(r.a)({url:a+"/dispatch/getChild",method:"get",params:t})}var w=function(t){return i.a.post(a+"/vendingPoint/add",t).then(function(t){return t.data})},y=function(t){return i.a.post(a+"/vendingPoint/edit",t).then(function(t){return t.data})},L=function(t){return i.a.post(a+"/vendingPoint/remove",t).then(function(t){return t.data})}},"7IEc":function(t,e,n){"use strict";n.r(e);var r=n("6ZY3"),o=n.n(r),i=n("3uy1"),a=n("OLzz"),u=n.n(a),s={data:function(){return{restaurants:[],companyName:"",timeout:null,formLabelWidth:"120px",Rules:{code:[{required:!0,message:"请输入区域编号",trigger:"blur"},{min:1,max:100,message:"长度在 1 到 1000 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入区域名称",trigger:"change"}],corpName:[{required:!0,validator:function(t,e,n){if(!e)return n(new Error("托管公司不能为空"));n()},trigger:"change"}]},editForm:{}}},watch:{},created:function(){window.localStorage&&(this.editForm=JSON.parse(localStorage.getItem("editData")))},methods:{ReturnLevel:function(){this.$router.push({path:"/pointposition/area"})},addSubmitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$confirm("确认提交吗？","提示",{}).then(function(){u.a.start();var t=o()({},e.editForm);Object(i.g)(t).then(function(t){"0000"==t.zhead.reTCode?(u.a.done(),e.$notify({title:"成功",message:t.zhead.retMsg,type:"success"}),e.$refs.editForm.resetFields(),e.$router.push({path:"/pointposition/area"})):e.$notify({title:"失败",message:t.zhead.retMsg,type:"error"})})})})},resetForm:function(t){this.$refs[t].resetFields()},querySearchAsync:function(t,e){var n=this.restaurants,r=t?n.filter(this.createStateFilter(t)):n,o=this,a={corpName:o.companyName};Object(i.k)(a).then(function(t){o.restaurants=t.zbody.datas,e(r)})},createStateFilter:function(t){return function(e){return 0===e.corpName.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){this.editForm.corpId=t.corpId,this.editForm.corpName=t.corpName,console.log(t)}},mounted:function(){},components:{}},c=(n("UH5j"),n("mDrr")),l=Object(c.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div-warp"},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("编辑区域")])]),t._v(" "),n("el-form",{ref:"editForm",staticClass:"formWidth",attrs:{model:t.editForm,rules:t.Rules},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("el-form-item",{attrs:{label:"区域编号",prop:"code",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.code,callback:function(e){t.$set(t.editForm,"code",e)},expression:"editForm.code"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"区域名称",prop:"name",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"负责人姓名",prop:"manager",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.manager,callback:function(e){t.$set(t.editForm,"manager",e)},expression:"editForm.manager"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"联系方式",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.mobile,callback:function(e){t.$set(t.editForm,"mobile",e)},expression:"editForm.mobile"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"商户名称",prop:"corpName",size:"small","label-width":t.formLabelWidth}},[n("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearchAsync,"value-key":"corpName",placeholder:"输入搜索公司"},on:{select:t.handleSelect},model:{value:t.editForm.corpName,callback:function(e){t.$set(t.editForm,"corpName",e)},expression:"editForm.corpName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"描述",size:"small","label-width":t.formLabelWidth}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.editForm.description,callback:function(e){t.$set(t.editForm,"description",e)},expression:"editForm.description"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer"},[n("el-button",{on:{click:t.ReturnLevel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addSubmitForm("editForm")}}},[t._v("确 定")])],1)],1)],1)},[],!1,null,"0dff5fd2",null);l.options.__file="edit.vue";e.default=l.exports},PeXy:function(t,e,n){},UH5j:function(t,e,n){"use strict";var r=n("Xw64");n.n(r).a},Xw64:function(t,e,n){var r=n("PeXy");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n("hctG").default)("f643f3c8",r,!0,{})}}]);
//# sourceMappingURL=7.ccaa2c471b10e647e28b.js.map